100d59eeb1d16c6f78504c997f45d9a7
"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var drawerlayout_1 = require("../drawerlayout");
var coordinatorlayout_1 = require("../coordinatorlayout");
var componentsmaterial_1 = require("../componentsmaterial");
var appcompat_1 = require("../appcompat");
var core_1 = require("../core");
var main_1 = require("../main");
describe('testing element', function () {
    test('single option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ colorPrimaryDark: 'white' }).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout.attributes.colorPrimaryDark).toEqual('white');
    });
    test('single child is set', function () {
        var layout = drawerlayout_1.DrawerLayout({}, [coordinatorlayout_1.CoordinatorLayout({ id: 'test' })]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        var coordinatorLayout = layout.map.drawerLayout_coordinatorLayout;
        expect(coordinatorLayout.attributes.id).toEqual('test');
    });
    test('single child and option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ id: 'noot' }, [coordinatorlayout_1.CoordinatorLayout()]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        expect(drawerLayout.attributes.id).toEqual('noot');
    });
    test('drawer with navigation layout', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' })]), core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })])]), componentsmaterial_1.NavigationView({
            layout_gravity: [drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start, drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left]
        })]).build();
        var appBarLayout = layout.map.drawerLayout_coordinatorLayout_appBarLayout.attributes;
        expect(appBarLayout.attributes.layout_height).toEqual(true);
        expect(appBarLayout).toHaveProperty("children");
        var nestedScrollView = layout.map.drawerLayout_coordinatorLayout_nestedScrollView;
        var children = nestedScrollView.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout_nestedScrollView_linearLayout');
        var navigationView = layout.map.drawerLayout_navigationView;
        expect(navigationView.attributes.layout_gravity).toEqual(['start', 'left']);
    });
    test('converts to json array', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' })]), core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })])]), componentsmaterial_1.NavigationView({
            layout_gravity: [drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start, drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left]
        })]).build();
        console.log(layout.toJson());
        expect(layout.toJson()).toEqual(jsonOutput);
    });
});
// tslint:disable-next-line:max-line-length
var jsonOutput = '[{"id":"drawerLayout","type":"drawerLayout","attributes":{},"children":["drawerLayout_coordinatorLayout","drawerLayout_navigationView"]},{"id":"drawerLayout_coordinatorLayout","type":"coordinatorLayout","attributes":{},"children":["drawerLayout_coordinatorLayout_appBarLayout","drawerLayout_coordinatorLayout_nestedScrollView"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout","type":"appBarLayout","attributes":{"fitsSystemWindow":true},"children":["drawerLayout_coordinatorLayout_appBarLayout_toolbar"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout_toolbar","type":"toolbar","attributes":{"title":"Navigation Playground"},"children":[]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView","type":"nestedScrollView","attributes":{},"children":["drawerLayout_coordinatorLayout_nestedScrollView_reactFragment"]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView_reactFragment","type":"reactFragment","attributes":{},"children":[]},{"id":"drawerLayout_navigationView","type":"navigationView","attributes":{"menu":[{"title":"Start","componentName":"test"},{"title":"Page1","componentName":"navigation"}]},"children":[]}]';
//# sourceMappingURL=element.test.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVsZW1lbnQudGVzdC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRyYXdlcmxheW91dF8xIiwicmVxdWlyZSIsImNvb3JkaW5hdG9ybGF5b3V0XzEiLCJjb21wb25lbnRzbWF0ZXJpYWxfMSIsImFwcGNvbXBhdF8xIiwiY29yZV8xIiwibWFpbl8xIiwiZGVzY3JpYmUiLCJ0ZXN0IiwibGF5b3V0IiwiRHJhd2VyTGF5b3V0IiwiY29sb3JQcmltYXJ5RGFyayIsImJ1aWxkIiwiZHJhd2VyTGF5b3V0IiwibWFwIiwiZXhwZWN0IiwiYXR0cmlidXRlcyIsInRvRXF1YWwiLCJDb29yZGluYXRvckxheW91dCIsImlkIiwidG9IYXZlUHJvcGVydHkiLCJjaGlsZHJlbiIsImNvb3JkaW5hdG9yTGF5b3V0IiwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0IiwibGF5b3V0X3dpZHRoIiwibGF5b3V0X2hlaWdodCIsImJhY2tncm91bmQiLCJBcHBCYXJMYXlvdXQiLCJBcHBjb21wYXRUb29sYmFyIiwidGl0bGUiLCJOZXN0ZWRTY3JvbGxWaWV3IiwiTGluZWFyTGF5b3V0Iiwib3JpZW50YXRpb24iLCJNYWluVHlwZXMiLCJPcmllbnRhdGlvbkVudW0iLCJ2ZXJ0aWNhbCIsIk5hdmlnYXRpb25WaWV3IiwibGF5b3V0X2dyYXZpdHkiLCJEcmF3ZXJsYXlvdXRUeXBlcyIsIkxheW91dEdyYXZpdHlGbGFnc0VudW0iLCJzdGFydCIsImxlZnQiLCJhcHBCYXJMYXlvdXQiLCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0IiwibmVzdGVkU2Nyb2xsVmlldyIsImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3IiwibmF2aWdhdGlvblZpZXciLCJkcmF3ZXJMYXlvdXRfbmF2aWdhdGlvblZpZXciLCJjb25zb2xlIiwibG9nIiwidG9Kc29uIiwianNvbk91dHB1dCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDLEVBQUVDLE9BQU8sSUFBVCxFQUE3QztBQUNBLElBQUlDLGlCQUFpQkMsUUFBUSxpQkFBUixDQUFyQjtBQUNBLElBQUlDLHNCQUFzQkQsUUFBUSxzQkFBUixDQUExQjtBQUNBLElBQUlFLHVCQUF1QkYsUUFBUSx1QkFBUixDQUEzQjtBQUNBLElBQUlHLGNBQWNILFFBQVEsY0FBUixDQUFsQjtBQUNBLElBQUlJLFNBQVNKLFFBQVEsU0FBUixDQUFiO0FBQ0EsSUFBSUssU0FBU0wsUUFBUSxTQUFSLENBQWI7QUFDQU0sU0FBUyxpQkFBVCxFQUE0QixZQUFZO0FBQ3BDQyxTQUFLLHNCQUFMLEVBQTZCLFlBQVk7QUFDckMsWUFBSUMsU0FBU1QsZUFBZVUsWUFBZixDQUE0QixFQUFFQyxrQkFBa0IsT0FBcEIsRUFBNUIsRUFBMkRDLEtBQTNELEVBQWI7QUFDQSxZQUFJQyxlQUFlSixPQUFPSyxHQUFQLENBQVdELFlBQTlCO0FBQ0FFLGVBQU9GLGFBQWFHLFVBQWIsQ0FBd0JMLGdCQUEvQixFQUFpRE0sT0FBakQsQ0FBeUQsT0FBekQ7QUFDSCxLQUpEO0FBS0FULFNBQUsscUJBQUwsRUFBNEIsWUFBWTtBQUNwQyxZQUFJQyxTQUFTVCxlQUFlVSxZQUFmLENBQTRCLEVBQTVCLEVBQWdDLENBQUNSLG9CQUFvQmdCLGlCQUFwQixDQUFzQyxFQUFFQyxJQUFJLE1BQU4sRUFBdEMsQ0FBRCxDQUFoQyxFQUF5RlAsS0FBekYsRUFBYjtBQUNBLFlBQUlDLGVBQWVKLE9BQU9LLEdBQVAsQ0FBV0QsWUFBOUI7QUFDQUUsZUFBT0YsWUFBUCxFQUFxQk8sY0FBckIsQ0FBb0MsVUFBcEM7QUFDQSxZQUFJQyxXQUFXUixhQUFhUSxRQUE1QjtBQUNBTixlQUFPTSxTQUFTLENBQVQsQ0FBUCxFQUFvQkosT0FBcEIsQ0FBNEIsZ0NBQTVCO0FBQ0EsWUFBSUssb0JBQW9CYixPQUFPSyxHQUFQLENBQVdTLDhCQUFuQztBQUNBUixlQUFPTyxrQkFBa0JOLFVBQWxCLENBQTZCRyxFQUFwQyxFQUF3Q0YsT0FBeEMsQ0FBZ0QsTUFBaEQ7QUFDSCxLQVJEO0FBU0FULFNBQUssZ0NBQUwsRUFBdUMsWUFBWTtBQUMvQyxZQUFJQyxTQUFTVCxlQUFlVSxZQUFmLENBQTRCLEVBQUVTLElBQUksTUFBTixFQUE1QixFQUE0QyxDQUFDakIsb0JBQW9CZ0IsaUJBQXBCLEVBQUQsQ0FBNUMsRUFBdUZOLEtBQXZGLEVBQWI7QUFDQSxZQUFJQyxlQUFlSixPQUFPSyxHQUFQLENBQVdELFlBQTlCO0FBQ0FFLGVBQU9GLFlBQVAsRUFBcUJPLGNBQXJCLENBQW9DLFVBQXBDO0FBQ0EsWUFBSUMsV0FBV1IsYUFBYVEsUUFBNUI7QUFDQU4sZUFBT00sU0FBUyxDQUFULENBQVAsRUFBb0JKLE9BQXBCLENBQTRCLGdDQUE1QjtBQUNBRixlQUFPRixhQUFhRyxVQUFiLENBQXdCRyxFQUEvQixFQUFtQ0YsT0FBbkMsQ0FBMkMsTUFBM0M7QUFDSCxLQVBEO0FBUUFULFNBQUssK0JBQUwsRUFBc0MsWUFBWTtBQUM5QyxZQUFJQyxTQUFTVCxlQUFlVSxZQUFmLENBQTRCLEVBQUVjLGNBQWMsY0FBaEIsRUFBZ0NDLGVBQWUsY0FBL0MsRUFBNUIsRUFBNkYsQ0FDdEd2QixvQkFBb0JnQixpQkFBcEIsQ0FBc0MsRUFBRVEsWUFBWSxTQUFkLEVBQXRDLEVBQWlFLENBQzdEdkIscUJBQXFCd0IsWUFBckIsQ0FBa0MsRUFBRUYsZUFBZSxPQUFqQixFQUFsQyxFQUE4RCxDQUMxRHJCLFlBQVl3QixnQkFBWixDQUE2QixFQUFFQyxPQUFPLHVCQUFULEVBQTdCLENBRDBELENBQTlELENBRDZELEVBSTdEeEIsT0FBT3lCLGdCQUFQLENBQXdCLEVBQXhCLEVBQTRCLENBQUN4QixPQUFPeUIsWUFBUCxDQUFvQixFQUFFQyxhQUFhMUIsT0FBTzJCLFNBQVAsQ0FBaUJDLGVBQWpCLENBQWlDQyxRQUFoRCxFQUFwQixDQUFELENBQTVCLENBSjZELENBQWpFLENBRHNHLEVBT3RHaEMscUJBQXFCaUMsY0FBckIsQ0FBb0M7QUFDaENDLDRCQUFnQixDQUNackMsZUFBZXNDLGlCQUFmLENBQWlDQyxzQkFBakMsQ0FBd0RDLEtBRDVDLEVBRVp4QyxlQUFlc0MsaUJBQWYsQ0FBaUNDLHNCQUFqQyxDQUF3REUsSUFGNUM7QUFEZ0IsU0FBcEMsQ0FQc0csQ0FBN0YsRUFhVjdCLEtBYlUsRUFBYjtBQWNBLFlBQUk4QixlQUFlakMsT0FBT0ssR0FBUCxDQUFXNkIsMkNBQVgsQ0FBdUQzQixVQUExRTtBQUNBRCxlQUFPMkIsYUFBYTFCLFVBQWIsQ0FBd0JTLGFBQS9CLEVBQThDUixPQUE5QyxDQUFzRCxJQUF0RDtBQUNBRixlQUFPMkIsWUFBUCxFQUFxQnRCLGNBQXJCLENBQW9DLFVBQXBDO0FBQ0EsWUFBSXdCLG1CQUFtQm5DLE9BQU9LLEdBQVAsQ0FBVytCLCtDQUFsQztBQUNBLFlBQUl4QixXQUFXdUIsaUJBQWlCdkIsUUFBaEM7QUFDQU4sZUFBT00sU0FBUyxDQUFULENBQVAsRUFBb0JKLE9BQXBCLENBQTRCLDhEQUE1QjtBQUNBLFlBQUk2QixpQkFBaUJyQyxPQUFPSyxHQUFQLENBQVdpQywyQkFBaEM7QUFDQWhDLGVBQU8rQixlQUFlOUIsVUFBZixDQUEwQnFCLGNBQWpDLEVBQWlEcEIsT0FBakQsQ0FBeUQsQ0FBQyxPQUFELEVBQVUsTUFBVixDQUF6RDtBQUNILEtBdkJEO0FBd0JBVCxTQUFLLHdCQUFMLEVBQStCLFlBQVk7QUFDdkMsWUFBSUMsU0FBU1QsZUFBZVUsWUFBZixDQUE0QixFQUFFYyxjQUFjLGNBQWhCLEVBQWdDQyxlQUFlLGNBQS9DLEVBQTVCLEVBQTZGLENBQ3RHdkIsb0JBQW9CZ0IsaUJBQXBCLENBQXNDLEVBQUVRLFlBQVksU0FBZCxFQUF0QyxFQUFpRSxDQUM3RHZCLHFCQUFxQndCLFlBQXJCLENBQWtDLEVBQUVGLGVBQWUsT0FBakIsRUFBbEMsRUFBOEQsQ0FDMURyQixZQUFZd0IsZ0JBQVosQ0FBNkIsRUFBRUMsT0FBTyx1QkFBVCxFQUE3QixDQUQwRCxDQUE5RCxDQUQ2RCxFQUk3RHhCLE9BQU95QixnQkFBUCxDQUF3QixFQUF4QixFQUE0QixDQUFDeEIsT0FBT3lCLFlBQVAsQ0FBb0IsRUFBRUMsYUFBYTFCLE9BQU8yQixTQUFQLENBQWlCQyxlQUFqQixDQUFpQ0MsUUFBaEQsRUFBcEIsQ0FBRCxDQUE1QixDQUo2RCxDQUFqRSxDQURzRyxFQU90R2hDLHFCQUFxQmlDLGNBQXJCLENBQW9DO0FBQ2hDQyw0QkFBZ0IsQ0FDWnJDLGVBQWVzQyxpQkFBZixDQUFpQ0Msc0JBQWpDLENBQXdEQyxLQUQ1QyxFQUVaeEMsZUFBZXNDLGlCQUFmLENBQWlDQyxzQkFBakMsQ0FBd0RFLElBRjVDO0FBRGdCLFNBQXBDLENBUHNHLENBQTdGLEVBYVY3QixLQWJVLEVBQWI7QUFjQW9DLGdCQUFRQyxHQUFSLENBQVl4QyxPQUFPeUMsTUFBUCxFQUFaO0FBQ0FuQyxlQUFPTixPQUFPeUMsTUFBUCxFQUFQLEVBQXdCakMsT0FBeEIsQ0FBZ0NrQyxVQUFoQztBQUNILEtBakJEO0FBa0JILENBakVEO0FBa0VBO0FBQ0EsSUFBSUEsYUFBYSxrbkNBQWpCO0FBQ0EiLCJmaWxlIjoiZWxlbWVudC50ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZHJhd2VybGF5b3V0XzEgPSByZXF1aXJlKFwiLi4vZHJhd2VybGF5b3V0XCIpO1xudmFyIGNvb3JkaW5hdG9ybGF5b3V0XzEgPSByZXF1aXJlKFwiLi4vY29vcmRpbmF0b3JsYXlvdXRcIik7XG52YXIgY29tcG9uZW50c21hdGVyaWFsXzEgPSByZXF1aXJlKFwiLi4vY29tcG9uZW50c21hdGVyaWFsXCIpO1xudmFyIGFwcGNvbXBhdF8xID0gcmVxdWlyZShcIi4uL2FwcGNvbXBhdFwiKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi4vY29yZVwiKTtcbnZhciBtYWluXzEgPSByZXF1aXJlKFwiLi4vbWFpblwiKTtcbmRlc2NyaWJlKCd0ZXN0aW5nIGVsZW1lbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgdGVzdCgnc2luZ2xlIG9wdGlvbiBpcyBzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXlvdXQgPSBkcmF3ZXJsYXlvdXRfMS5EcmF3ZXJMYXlvdXQoeyBjb2xvclByaW1hcnlEYXJrOiAnd2hpdGUnIH0pLmJ1aWxkKCk7XG4gICAgICAgIHZhciBkcmF3ZXJMYXlvdXQgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dDtcbiAgICAgICAgZXhwZWN0KGRyYXdlckxheW91dC5hdHRyaWJ1dGVzLmNvbG9yUHJpbWFyeURhcmspLnRvRXF1YWwoJ3doaXRlJyk7XG4gICAgfSk7XG4gICAgdGVzdCgnc2luZ2xlIGNoaWxkIGlzIHNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheW91dCA9IGRyYXdlcmxheW91dF8xLkRyYXdlckxheW91dCh7fSwgW2Nvb3JkaW5hdG9ybGF5b3V0XzEuQ29vcmRpbmF0b3JMYXlvdXQoeyBpZDogJ3Rlc3QnIH0pXSkuYnVpbGQoKTtcbiAgICAgICAgdmFyIGRyYXdlckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0O1xuICAgICAgICBleHBlY3QoZHJhd2VyTGF5b3V0KS50b0hhdmVQcm9wZXJ0eShcImNoaWxkcmVuXCIpO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkcmF3ZXJMYXlvdXQuY2hpbGRyZW47XG4gICAgICAgIGV4cGVjdChjaGlsZHJlblswXSkudG9FcXVhbCgnZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0Jyk7XG4gICAgICAgIHZhciBjb29yZGluYXRvckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0O1xuICAgICAgICBleHBlY3QoY29vcmRpbmF0b3JMYXlvdXQuYXR0cmlidXRlcy5pZCkudG9FcXVhbCgndGVzdCcpO1xuICAgIH0pO1xuICAgIHRlc3QoJ3NpbmdsZSBjaGlsZCBhbmQgb3B0aW9uIGlzIHNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheW91dCA9IGRyYXdlcmxheW91dF8xLkRyYXdlckxheW91dCh7IGlkOiAnbm9vdCcgfSwgW2Nvb3JkaW5hdG9ybGF5b3V0XzEuQ29vcmRpbmF0b3JMYXlvdXQoKV0pLmJ1aWxkKCk7XG4gICAgICAgIHZhciBkcmF3ZXJMYXlvdXQgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dDtcbiAgICAgICAgZXhwZWN0KGRyYXdlckxheW91dCkudG9IYXZlUHJvcGVydHkoXCJjaGlsZHJlblwiKTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZHJhd2VyTGF5b3V0LmNoaWxkcmVuO1xuICAgICAgICBleHBlY3QoY2hpbGRyZW5bMF0pLnRvRXF1YWwoJ2RyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dCcpO1xuICAgICAgICBleHBlY3QoZHJhd2VyTGF5b3V0LmF0dHJpYnV0ZXMuaWQpLnRvRXF1YWwoJ25vb3QnKTtcbiAgICB9KTtcbiAgICB0ZXN0KCdkcmF3ZXIgd2l0aCBuYXZpZ2F0aW9uIGxheW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheW91dCA9IGRyYXdlcmxheW91dF8xLkRyYXdlckxheW91dCh7IGxheW91dF93aWR0aDogXCJtYXRjaF9wYXJlbnRcIiwgbGF5b3V0X2hlaWdodDogXCJtYXRjaF9wYXJlbnRcIiB9LCBbXG4gICAgICAgICAgICBjb29yZGluYXRvcmxheW91dF8xLkNvb3JkaW5hdG9yTGF5b3V0KHsgYmFja2dyb3VuZDogXCIjRkVGRUZFXCIgfSwgW1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNtYXRlcmlhbF8xLkFwcEJhckxheW91dCh7IGxheW91dF9oZWlnaHQ6IFwiMjkwZHBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgIGFwcGNvbXBhdF8xLkFwcGNvbXBhdFRvb2xiYXIoeyB0aXRsZTogJ05hdmlnYXRpb24gUGxheWdyb3VuZCcgfSksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgY29yZV8xLk5lc3RlZFNjcm9sbFZpZXcoe30sIFttYWluXzEuTGluZWFyTGF5b3V0KHsgb3JpZW50YXRpb246IG1haW5fMS5NYWluVHlwZXMuT3JpZW50YXRpb25FbnVtLnZlcnRpY2FsIH0pXSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGNvbXBvbmVudHNtYXRlcmlhbF8xLk5hdmlnYXRpb25WaWV3KHtcbiAgICAgICAgICAgICAgICBsYXlvdXRfZ3Jhdml0eTogW1xuICAgICAgICAgICAgICAgICAgICBkcmF3ZXJsYXlvdXRfMS5EcmF3ZXJsYXlvdXRUeXBlcy5MYXlvdXRHcmF2aXR5RmxhZ3NFbnVtLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBkcmF3ZXJsYXlvdXRfMS5EcmF3ZXJsYXlvdXRUeXBlcy5MYXlvdXRHcmF2aXR5RmxhZ3NFbnVtLmxlZnRcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSkuYnVpbGQoKTtcbiAgICAgICAgdmFyIGFwcEJhckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X2FwcEJhckxheW91dC5hdHRyaWJ1dGVzO1xuICAgICAgICBleHBlY3QoYXBwQmFyTGF5b3V0LmF0dHJpYnV0ZXMubGF5b3V0X2hlaWdodCkudG9FcXVhbCh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGFwcEJhckxheW91dCkudG9IYXZlUHJvcGVydHkoXCJjaGlsZHJlblwiKTtcbiAgICAgICAgdmFyIG5lc3RlZFNjcm9sbFZpZXcgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3O1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBuZXN0ZWRTY3JvbGxWaWV3LmNoaWxkcmVuO1xuICAgICAgICBleHBlY3QoY2hpbGRyZW5bMF0pLnRvRXF1YWwoJ2RyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3X2xpbmVhckxheW91dCcpO1xuICAgICAgICB2YXIgbmF2aWdhdGlvblZpZXcgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dF9uYXZpZ2F0aW9uVmlldztcbiAgICAgICAgZXhwZWN0KG5hdmlnYXRpb25WaWV3LmF0dHJpYnV0ZXMubGF5b3V0X2dyYXZpdHkpLnRvRXF1YWwoWydzdGFydCcsICdsZWZ0J10pO1xuICAgIH0pO1xuICAgIHRlc3QoJ2NvbnZlcnRzIHRvIGpzb24gYXJyYXknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXlvdXQgPSBkcmF3ZXJsYXlvdXRfMS5EcmF3ZXJMYXlvdXQoeyBsYXlvdXRfd2lkdGg6IFwibWF0Y2hfcGFyZW50XCIsIGxheW91dF9oZWlnaHQ6IFwibWF0Y2hfcGFyZW50XCIgfSwgW1xuICAgICAgICAgICAgY29vcmRpbmF0b3JsYXlvdXRfMS5Db29yZGluYXRvckxheW91dCh7IGJhY2tncm91bmQ6IFwiI0ZFRkVGRVwiIH0sIFtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzbWF0ZXJpYWxfMS5BcHBCYXJMYXlvdXQoeyBsYXlvdXRfaGVpZ2h0OiBcIjI5MGRwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICBhcHBjb21wYXRfMS5BcHBjb21wYXRUb29sYmFyKHsgdGl0bGU6ICdOYXZpZ2F0aW9uIFBsYXlncm91bmQnIH0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGNvcmVfMS5OZXN0ZWRTY3JvbGxWaWV3KHt9LCBbbWFpbl8xLkxpbmVhckxheW91dCh7IG9yaWVudGF0aW9uOiBtYWluXzEuTWFpblR5cGVzLk9yaWVudGF0aW9uRW51bS52ZXJ0aWNhbCB9KV0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBjb21wb25lbnRzbWF0ZXJpYWxfMS5OYXZpZ2F0aW9uVmlldyh7XG4gICAgICAgICAgICAgICAgbGF5b3V0X2dyYXZpdHk6IFtcbiAgICAgICAgICAgICAgICAgICAgZHJhd2VybGF5b3V0XzEuRHJhd2VybGF5b3V0VHlwZXMuTGF5b3V0R3Jhdml0eUZsYWdzRW51bS5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgZHJhd2VybGF5b3V0XzEuRHJhd2VybGF5b3V0VHlwZXMuTGF5b3V0R3Jhdml0eUZsYWdzRW51bS5sZWZ0XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLmJ1aWxkKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGxheW91dC50b0pzb24oKSk7XG4gICAgICAgIGV4cGVjdChsYXlvdXQudG9Kc29uKCkpLnRvRXF1YWwoanNvbk91dHB1dCk7XG4gICAgfSk7XG59KTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbnZhciBqc29uT3V0cHV0ID0gJ1t7XCJpZFwiOlwiZHJhd2VyTGF5b3V0XCIsXCJ0eXBlXCI6XCJkcmF3ZXJMYXlvdXRcIixcImF0dHJpYnV0ZXNcIjp7fSxcImNoaWxkcmVuXCI6W1wiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0XCIsXCJkcmF3ZXJMYXlvdXRfbmF2aWdhdGlvblZpZXdcIl19LHtcImlkXCI6XCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRcIixcInR5cGVcIjpcImNvb3JkaW5hdG9yTGF5b3V0XCIsXCJhdHRyaWJ1dGVzXCI6e30sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXRcIixcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X2FwcEJhckxheW91dFwiLFwidHlwZVwiOlwiYXBwQmFyTGF5b3V0XCIsXCJhdHRyaWJ1dGVzXCI6e1wiZml0c1N5c3RlbVdpbmRvd1wiOnRydWV9LFwiY2hpbGRyZW5cIjpbXCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0X3Rvb2xiYXJcIl19LHtcImlkXCI6XCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0X3Rvb2xiYXJcIixcInR5cGVcIjpcInRvb2xiYXJcIixcImF0dHJpYnV0ZXNcIjp7XCJ0aXRsZVwiOlwiTmF2aWdhdGlvbiBQbGF5Z3JvdW5kXCJ9LFwiY2hpbGRyZW5cIjpbXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3XCIsXCJ0eXBlXCI6XCJuZXN0ZWRTY3JvbGxWaWV3XCIsXCJhdHRyaWJ1dGVzXCI6e30sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3X3JlYWN0RnJhZ21lbnRcIl19LHtcImlkXCI6XCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfbmVzdGVkU2Nyb2xsVmlld19yZWFjdEZyYWdtZW50XCIsXCJ0eXBlXCI6XCJyZWFjdEZyYWdtZW50XCIsXCJhdHRyaWJ1dGVzXCI6e30sXCJjaGlsZHJlblwiOltdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X25hdmlnYXRpb25WaWV3XCIsXCJ0eXBlXCI6XCJuYXZpZ2F0aW9uVmlld1wiLFwiYXR0cmlidXRlc1wiOntcIm1lbnVcIjpbe1widGl0bGVcIjpcIlN0YXJ0XCIsXCJjb21wb25lbnROYW1lXCI6XCJ0ZXN0XCJ9LHtcInRpdGxlXCI6XCJQYWdlMVwiLFwiY29tcG9uZW50TmFtZVwiOlwibmF2aWdhdGlvblwifV19LFwiY2hpbGRyZW5cIjpbXX1dJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnQudGVzdC5qcy5tYXAiXX0=