5db0f4a0de9484fa19054460a824fd72
"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var drawerlayout_1 = require("../drawerlayout");
var coordinatorlayout_1 = require("../coordinatorlayout");
var componentsmaterial_1 = require("../componentsmaterial");
var appcompat_1 = require("../appcompat");
var core_1 = require("../core");
var main_1 = require("../main");
describe('testing element', function () {
    test('single option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ colorPrimaryDark: 'white' }).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout.attributes.colorPrimaryDark).toEqual('white');
    });
    test('single child is set', function () {
        var layout = drawerlayout_1.DrawerLayout({}, [coordinatorlayout_1.CoordinatorLayout({ id: 'test' })]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        var coordinatorLayout = layout.map.drawerLayout_coordinatorLayout;
        expect(coordinatorLayout.attributes.id).toEqual('test');
    });
    test('single child and option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ id: 'noot' }, [coordinatorlayout_1.CoordinatorLayout()]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        expect(drawerLayout.attributes.id).toEqual('noot');
    });
    test('drawer with navigation layout', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' })]), core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })])]), componentsmaterial_1.NavigationView({
            layout_gravity: [drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start, drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left]
        })]).build();
        var appBarLayout = layout.map.drawerLayout_coordinatorLayout_appBarLayout;
        expect(appBarLayout.attributes.layout_height).toEqual(true);
        expect(appBarLayout).toHaveProperty("children");
        var nestedScrollView = layout.map.drawerLayout_coordinatorLayout_nestedScrollView;
        var children = nestedScrollView.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout_nestedScrollView_linearLayout');
        var navigationView = layout.map.drawerLayout_navigationView;
        expect(navigationView.attributes.layout_gravity).toEqual(['start', 'left']);
    });
    test('converts to json array', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' })]), core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })])]), componentsmaterial_1.NavigationView({
            layout_gravity: [drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start, drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left]
        })]).build();
        //console.log(layout.toJson());
        expect(layout.toJson()).toEqual(jsonOutput);
    });
});
// tslint:disable-next-line:max-line-length
var jsonOutput = '[{"id":"drawerLayout","type":"drawerLayout","attributes":{"layout_width":"match_parent","layout_height":"match_parent"},"children":["drawerLayout_coordinatorLayout","drawerLayout_navigationView"]},{"id":"drawerLayout_coordinatorLayout","type":"coordinatorLayout","attributes":{"background":"#FEFEFE"},"children":["drawerLayout_coordinatorLayout_appBarLayout","drawerLayout_coordinatorLayout_nestedScrollView"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout","type":"appBarLayout","attributes":{"layout_height":"290dp"},"children":["drawerLayout_coordinatorLayout_appBarLayout_appcompat.toolbar"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout_appcompat.toolbar","type":"appcompat.toolbar","attributes":{"title":"Navigation Playground"},"children":[]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView","type":"nestedScrollView","attributes":{},"children":["drawerLayout_coordinatorLayout_nestedScrollView_linearLayout"]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView_linearLayout","type":"linearLayout","attributes":{"orientation":1},"children":[]},{"id":"drawerLayout_navigationView","type":"navigationView","attributes":{"layout_gravity":[12,2]},"children":[]}]';
//# sourceMappingURL=element.test.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVsZW1lbnQudGVzdC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRyYXdlcmxheW91dF8xIiwicmVxdWlyZSIsImNvb3JkaW5hdG9ybGF5b3V0XzEiLCJjb21wb25lbnRzbWF0ZXJpYWxfMSIsImFwcGNvbXBhdF8xIiwiY29yZV8xIiwibWFpbl8xIiwiZGVzY3JpYmUiLCJ0ZXN0IiwibGF5b3V0IiwiRHJhd2VyTGF5b3V0IiwiY29sb3JQcmltYXJ5RGFyayIsImJ1aWxkIiwiZHJhd2VyTGF5b3V0IiwibWFwIiwiZXhwZWN0IiwiYXR0cmlidXRlcyIsInRvRXF1YWwiLCJDb29yZGluYXRvckxheW91dCIsImlkIiwidG9IYXZlUHJvcGVydHkiLCJjaGlsZHJlbiIsImNvb3JkaW5hdG9yTGF5b3V0IiwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0IiwibGF5b3V0X3dpZHRoIiwibGF5b3V0X2hlaWdodCIsImJhY2tncm91bmQiLCJBcHBCYXJMYXlvdXQiLCJBcHBjb21wYXRUb29sYmFyIiwidGl0bGUiLCJOZXN0ZWRTY3JvbGxWaWV3IiwiTGluZWFyTGF5b3V0Iiwib3JpZW50YXRpb24iLCJNYWluVHlwZXMiLCJPcmllbnRhdGlvbkVudW0iLCJ2ZXJ0aWNhbCIsIk5hdmlnYXRpb25WaWV3IiwibGF5b3V0X2dyYXZpdHkiLCJEcmF3ZXJsYXlvdXRUeXBlcyIsIkxheW91dEdyYXZpdHlGbGFnc0VudW0iLCJzdGFydCIsImxlZnQiLCJhcHBCYXJMYXlvdXQiLCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0IiwibmVzdGVkU2Nyb2xsVmlldyIsImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3IiwibmF2aWdhdGlvblZpZXciLCJkcmF3ZXJMYXlvdXRfbmF2aWdhdGlvblZpZXciLCJ0b0pzb24iLCJqc29uT3V0cHV0Il0sIm1h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eEIsT0FBT3lCLGdCQUFQLENBQXdCLEVBQXhCLEVBQTRCLENBQUN4QixPQUFPeUIsWUFBUCxDQUFvQixFQUFFQyxhQUFhMUIsT0FBTzJCLFNBQVAsQ0FBaUJDLGVBQWpCLENBQWlDQyxRQUFoRCxFQUFwQixDQUFELENBQTVCLENBSjZELENBQWpFLENBRHNHLEVBT3RHaEMscUJBQXFCaUMsY0FBckIsQ0FBb0M7QUFDaENDLDRCQUFnQixDQUNackMsZUFBZXNDLGlCQUFmLENBQWlDQyxzQkFBakMsQ0FBd0RDLEtBRDVDLEVBRVp4QyxlQUFlc0MsaUJBQWYsQ0FBaUNDLHNCQUFqQyxDQUF3REUsSUFGNUM7QUFEZ0IsU0FBcEMsQ0FQc0csQ0FBN0YsRUFhVjdCLEtBYlUsRUFBYjtBQWNBO0FBQ0FHLGVBQU9OLE9BQU91QyxNQUFQLEVBQVAsRUFBd0IvQixPQUF4QixDQUFnQ2dDLFVBQWhDO0FBQ0gsS0FqQkQ7QUFrQkgsQ0FqRUQ7QUFrRUE7QUFDQSxJQUFJQSxhQUFhLHFxQ0FBakI7QUFDQSIsImZpbGUiOiJlbGVtZW50LnRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkcmF3ZXJsYXlvdXRfMSA9IHJlcXVpcmUoXCIuLi9kcmF3ZXJsYXlvdXRcIik7XG52YXIgY29vcmRpbmF0b3JsYXlvdXRfMSA9IHJlcXVpcmUoXCIuLi9jb29yZGluYXRvcmxheW91dFwiKTtcbnZhciBjb21wb25lbnRzbWF0ZXJpYWxfMSA9IHJlcXVpcmUoXCIuLi9jb21wb25lbnRzbWF0ZXJpYWxcIik7XG52YXIgYXBwY29tcGF0XzEgPSByZXF1aXJlKFwiLi4vYXBwY29tcGF0XCIpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCIuLi9jb3JlXCIpO1xudmFyIG1haW5fMSA9IHJlcXVpcmUoXCIuLi9tYWluXCIpO1xuZGVzY3JpYmUoJ3Rlc3RpbmcgZWxlbWVudCcsIGZ1bmN0aW9uICgpIHtcbiAgICB0ZXN0KCdzaW5nbGUgb3B0aW9uIGlzIHNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxheW91dCA9IGRyYXdlcmxheW91dF8xLkRyYXdlckxheW91dCh7IGNvbG9yUHJpbWFyeURhcms6ICd3aGl0ZScgfSkuYnVpbGQoKTtcbiAgICAgICAgdmFyIGRyYXdlckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0O1xuICAgICAgICBleHBlY3QoZHJhd2VyTGF5b3V0LmF0dHJpYnV0ZXMuY29sb3JQcmltYXJ5RGFyaykudG9FcXVhbCgnd2hpdGUnKTtcbiAgICB9KTtcbiAgICB0ZXN0KCdzaW5nbGUgY2hpbGQgaXMgc2V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0gZHJhd2VybGF5b3V0XzEuRHJhd2VyTGF5b3V0KHt9LCBbY29vcmRpbmF0b3JsYXlvdXRfMS5Db29yZGluYXRvckxheW91dCh7IGlkOiAndGVzdCcgfSldKS5idWlsZCgpO1xuICAgICAgICB2YXIgZHJhd2VyTGF5b3V0ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXQ7XG4gICAgICAgIGV4cGVjdChkcmF3ZXJMYXlvdXQpLnRvSGF2ZVByb3BlcnR5KFwiY2hpbGRyZW5cIik7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRyYXdlckxheW91dC5jaGlsZHJlbjtcbiAgICAgICAgZXhwZWN0KGNoaWxkcmVuWzBdKS50b0VxdWFsKCdkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXQnKTtcbiAgICAgICAgdmFyIGNvb3JkaW5hdG9yTGF5b3V0ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXQ7XG4gICAgICAgIGV4cGVjdChjb29yZGluYXRvckxheW91dC5hdHRyaWJ1dGVzLmlkKS50b0VxdWFsKCd0ZXN0Jyk7XG4gICAgfSk7XG4gICAgdGVzdCgnc2luZ2xlIGNoaWxkIGFuZCBvcHRpb24gaXMgc2V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0gZHJhd2VybGF5b3V0XzEuRHJhd2VyTGF5b3V0KHsgaWQ6ICdub290JyB9LCBbY29vcmRpbmF0b3JsYXlvdXRfMS5Db29yZGluYXRvckxheW91dCgpXSkuYnVpbGQoKTtcbiAgICAgICAgdmFyIGRyYXdlckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0O1xuICAgICAgICBleHBlY3QoZHJhd2VyTGF5b3V0KS50b0hhdmVQcm9wZXJ0eShcImNoaWxkcmVuXCIpO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkcmF3ZXJMYXlvdXQuY2hpbGRyZW47XG4gICAgICAgIGV4cGVjdChjaGlsZHJlblswXSkudG9FcXVhbCgnZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0Jyk7XG4gICAgICAgIGV4cGVjdChkcmF3ZXJMYXlvdXQuYXR0cmlidXRlcy5pZCkudG9FcXVhbCgnbm9vdCcpO1xuICAgIH0pO1xuICAgIHRlc3QoJ2RyYXdlciB3aXRoIG5hdmlnYXRpb24gbGF5b3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0gZHJhd2VybGF5b3V0XzEuRHJhd2VyTGF5b3V0KHsgbGF5b3V0X3dpZHRoOiBcIm1hdGNoX3BhcmVudFwiLCBsYXlvdXRfaGVpZ2h0OiBcIm1hdGNoX3BhcmVudFwiIH0sIFtcbiAgICAgICAgICAgIGNvb3JkaW5hdG9ybGF5b3V0XzEuQ29vcmRpbmF0b3JMYXlvdXQoeyBiYWNrZ3JvdW5kOiBcIiNGRUZFRkVcIiB9LCBbXG4gICAgICAgICAgICAgICAgY29tcG9uZW50c21hdGVyaWFsXzEuQXBwQmFyTGF5b3V0KHsgbGF5b3V0X2hlaWdodDogXCIyOTBkcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgYXBwY29tcGF0XzEuQXBwY29tcGF0VG9vbGJhcih7IHRpdGxlOiAnTmF2aWdhdGlvbiBQbGF5Z3JvdW5kJyB9KSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBjb3JlXzEuTmVzdGVkU2Nyb2xsVmlldyh7fSwgW21haW5fMS5MaW5lYXJMYXlvdXQoeyBvcmllbnRhdGlvbjogbWFpbl8xLk1haW5UeXBlcy5PcmllbnRhdGlvbkVudW0udmVydGljYWwgfSldKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgY29tcG9uZW50c21hdGVyaWFsXzEuTmF2aWdhdGlvblZpZXcoe1xuICAgICAgICAgICAgICAgIGxheW91dF9ncmF2aXR5OiBbXG4gICAgICAgICAgICAgICAgICAgIGRyYXdlcmxheW91dF8xLkRyYXdlcmxheW91dFR5cGVzLkxheW91dEdyYXZpdHlGbGFnc0VudW0uc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGRyYXdlcmxheW91dF8xLkRyYXdlcmxheW91dFR5cGVzLkxheW91dEdyYXZpdHlGbGFnc0VudW0ubGVmdFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKS5idWlsZCgpO1xuICAgICAgICB2YXIgYXBwQmFyTGF5b3V0ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0O1xuICAgICAgICBleHBlY3QoYXBwQmFyTGF5b3V0LmF0dHJpYnV0ZXMubGF5b3V0X2hlaWdodCkudG9FcXVhbCh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGFwcEJhckxheW91dCkudG9IYXZlUHJvcGVydHkoXCJjaGlsZHJlblwiKTtcbiAgICAgICAgdmFyIG5lc3RlZFNjcm9sbFZpZXcgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3O1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBuZXN0ZWRTY3JvbGxWaWV3LmNoaWxkcmVuO1xuICAgICAgICBleHBlY3QoY2hpbGRyZW5bMF0pLnRvRXF1YWwoJ2RyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3X2xpbmVhckxheW91dCcpO1xuICAgICAgICB2YXIgbmF2aWdhdGlvblZpZXcgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dF9uYXZpZ2F0aW9uVmlldztcbiAgICAgICAgZXhwZWN0KG5hdmlnYXRpb25WaWV3LmF0dHJpYnV0ZXMubGF5b3V0X2dyYXZpdHkpLnRvRXF1YWwoWydzdGFydCcsICdsZWZ0J10pO1xuICAgIH0pO1xuICAgIHRlc3QoJ2NvbnZlcnRzIHRvIGpzb24gYXJyYXknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXlvdXQgPSBkcmF3ZXJsYXlvdXRfMS5EcmF3ZXJMYXlvdXQoeyBsYXlvdXRfd2lkdGg6IFwibWF0Y2hfcGFyZW50XCIsIGxheW91dF9oZWlnaHQ6IFwibWF0Y2hfcGFyZW50XCIgfSwgW1xuICAgICAgICAgICAgY29vcmRpbmF0b3JsYXlvdXRfMS5Db29yZGluYXRvckxheW91dCh7IGJhY2tncm91bmQ6IFwiI0ZFRkVGRVwiIH0sIFtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzbWF0ZXJpYWxfMS5BcHBCYXJMYXlvdXQoeyBsYXlvdXRfaGVpZ2h0OiBcIjI5MGRwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICBhcHBjb21wYXRfMS5BcHBjb21wYXRUb29sYmFyKHsgdGl0bGU6ICdOYXZpZ2F0aW9uIFBsYXlncm91bmQnIH0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGNvcmVfMS5OZXN0ZWRTY3JvbGxWaWV3KHt9LCBbbWFpbl8xLkxpbmVhckxheW91dCh7IG9yaWVudGF0aW9uOiBtYWluXzEuTWFpblR5cGVzLk9yaWVudGF0aW9uRW51bS52ZXJ0aWNhbCB9KV0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBjb21wb25lbnRzbWF0ZXJpYWxfMS5OYXZpZ2F0aW9uVmlldyh7XG4gICAgICAgICAgICAgICAgbGF5b3V0X2dyYXZpdHk6IFtcbiAgICAgICAgICAgICAgICAgICAgZHJhd2VybGF5b3V0XzEuRHJhd2VybGF5b3V0VHlwZXMuTGF5b3V0R3Jhdml0eUZsYWdzRW51bS5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgZHJhd2VybGF5b3V0XzEuRHJhd2VybGF5b3V0VHlwZXMuTGF5b3V0R3Jhdml0eUZsYWdzRW51bS5sZWZ0XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLmJ1aWxkKCk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobGF5b3V0LnRvSnNvbigpKTtcbiAgICAgICAgZXhwZWN0KGxheW91dC50b0pzb24oKSkudG9FcXVhbChqc29uT3V0cHV0KTtcbiAgICB9KTtcbn0pO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxudmFyIGpzb25PdXRwdXQgPSAnW3tcImlkXCI6XCJkcmF3ZXJMYXlvdXRcIixcInR5cGVcIjpcImRyYXdlckxheW91dFwiLFwiYXR0cmlidXRlc1wiOntcImxheW91dF93aWR0aFwiOlwibWF0Y2hfcGFyZW50XCIsXCJsYXlvdXRfaGVpZ2h0XCI6XCJtYXRjaF9wYXJlbnRcIn0sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dFwiLFwiZHJhd2VyTGF5b3V0X25hdmlnYXRpb25WaWV3XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0XCIsXCJ0eXBlXCI6XCJjb29yZGluYXRvckxheW91dFwiLFwiYXR0cmlidXRlc1wiOntcImJhY2tncm91bmRcIjpcIiNGRUZFRkVcIn0sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXRcIixcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X2FwcEJhckxheW91dFwiLFwidHlwZVwiOlwiYXBwQmFyTGF5b3V0XCIsXCJhdHRyaWJ1dGVzXCI6e1wibGF5b3V0X2hlaWdodFwiOlwiMjkwZHBcIn0sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXRfYXBwY29tcGF0LnRvb2xiYXJcIl19LHtcImlkXCI6XCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0X2FwcGNvbXBhdC50b29sYmFyXCIsXCJ0eXBlXCI6XCJhcHBjb21wYXQudG9vbGJhclwiLFwiYXR0cmlidXRlc1wiOntcInRpdGxlXCI6XCJOYXZpZ2F0aW9uIFBsYXlncm91bmRcIn0sXCJjaGlsZHJlblwiOltdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdcIixcInR5cGVcIjpcIm5lc3RlZFNjcm9sbFZpZXdcIixcImF0dHJpYnV0ZXNcIjp7fSxcImNoaWxkcmVuXCI6W1wiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdfbGluZWFyTGF5b3V0XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdfbGluZWFyTGF5b3V0XCIsXCJ0eXBlXCI6XCJsaW5lYXJMYXlvdXRcIixcImF0dHJpYnV0ZXNcIjp7XCJvcmllbnRhdGlvblwiOjF9LFwiY2hpbGRyZW5cIjpbXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9uYXZpZ2F0aW9uVmlld1wiLFwidHlwZVwiOlwibmF2aWdhdGlvblZpZXdcIixcImF0dHJpYnV0ZXNcIjp7XCJsYXlvdXRfZ3Jhdml0eVwiOlsxMiwyXX0sXCJjaGlsZHJlblwiOltdfV0nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC50ZXN0LmpzLm1hcCJdfQ==