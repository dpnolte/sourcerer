cddbe183d16e784bc5735294d9e8f347
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var drawerlayout_1 = require("../drawerlayout");
var coordinatorlayout_1 = require("../coordinatorlayout");
var componentsmaterial_1 = require("../componentsmaterial");
var appcompat_1 = require("../appcompat");
var core_1 = require("../core");
var main_1 = require("../main");
describe('testing element', function () {
    test('single option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ colorPrimaryDark: 'white2' }).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout.attributes.colorPrimaryDark).toEqual('white');
    });
    test('single child is set', function () {
        var layout = drawerlayout_1.DrawerLayout({}, [coordinatorlayout_1.CoordinatorLayout({ id: 'test' })]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        var coordinatorLayout = layout.map.drawerLayout_coordinatorLayout;
        expect(coordinatorLayout.attributes.id).toEqual('test');
    });
    test('single child and option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ id: 'noot' }, [coordinatorlayout_1.CoordinatorLayout()]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        expect(drawerLayout.attributes.id).toEqual('noot');
    });
    test('drawer with navigation layout', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [
            coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [
                componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [
                    appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' }),
                ]),
                core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })]),
            ]),
            componentsmaterial_1.NavigationView({
                layout_gravity: [
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start,
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left
                ]
            }),
        ]).build();
        var appBarLayout = layout.map.drawerLayout_coordinatorLayout_appBarLayout;
        expect(appBarLayout.attributes.layout_height).toEqual("290dp");
        expect(appBarLayout).toHaveProperty("children");
        var nestedScrollView = layout.map.drawerLayout_coordinatorLayout_nestedScrollView;
        var children = nestedScrollView.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout_nestedScrollView_linearLayout');
        var navigationView = layout.map.drawerLayout_navigationView;
        expect(navigationView.attributes.layout_gravity).toEqual(['start', 'left']);
    });
    test('converts to json array', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [
            coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [
                componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [
                    appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' }),
                ]),
                core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })]),
            ]),
            componentsmaterial_1.NavigationView({
                layout_gravity: [
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start,
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left
                ]
            }),
        ]).build();
        //console.log(layout.toJson());
        expect(layout.toJson()).toEqual(jsonOutput);
    });
});
// tslint:disable-next-line:max-line-length
var jsonOutput = '[{"id":"drawerLayout","type":"drawerLayout","attributes":{"layout_width":"match_parent","layout_height":"match_parent"},"children":["drawerLayout_coordinatorLayout","drawerLayout_navigationView"]},{"id":"drawerLayout_coordinatorLayout","type":"coordinatorLayout","attributes":{"background":"#FEFEFE"},"children":["drawerLayout_coordinatorLayout_appBarLayout","drawerLayout_coordinatorLayout_nestedScrollView"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout","type":"appBarLayout","attributes":{"layout_height":"290dp"},"children":["drawerLayout_coordinatorLayout_appBarLayout_appcompat.toolbar"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout_appcompat.toolbar","type":"appcompat.toolbar","attributes":{"title":"Navigation Playground"},"children":[]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView","type":"nestedScrollView","attributes":{},"children":["drawerLayout_coordinatorLayout_nestedScrollView_linearLayout"]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView_linearLayout","type":"linearLayout","attributes":{"orientation":1},"children":[]},{"id":"drawerLayout_navigationView","type":"navigationView","attributes":{"layout_gravity":["start","left"]},"children":[]}]';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RlcmsvanNQcm9qZWN0cy9zb3VyY2VyZXIvanMvX190ZXN0X18vZWxlbWVudC50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsZ0RBR3lCO0FBRXpCLDBEQUFpRjtBQUNqRiw0REFBOEY7QUFDOUYsMENBQWdFO0FBQ2hFLGdDQUEyQztBQUMzQyxnQ0FBa0Q7QUFFbEQsUUFBUSxDQUFDLGlCQUFpQixFQUFFO0lBQzFCLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtRQUN6QixJQUFNLE1BQU0sR0FBRywyQkFBWSxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNuRSxJQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQXNFLENBQUM7UUFDdkcsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEUsQ0FBQyxDQUFDLENBQUM7SUFDSCxJQUFJLENBQUMscUJBQXFCLEVBQUU7UUFDMUIsSUFBTSxNQUFNLEdBQUcsMkJBQVksQ0FDekIsRUFBRSxFQUNGLENBQUMscUNBQWlCLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUNwQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1YsSUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFzRSxDQUFDO1FBQ3ZHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDL0MsSUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLFFBQW9CLENBQUE7UUFDbEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQzlELElBQU0saUJBQWlCLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyw4QkFBa0csQ0FBQztRQUN4SSxNQUFNLENBQUMsaUJBQWlC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QjtvQkFDRSw0QkFBZ0IsQ0FBQyxFQUFFLEtBQUssRUFBRSx1QkFBdUIsRUFBRSxDQUFDO2lCQUNyRCxDQUNGO2dCQUNELHVCQUFnQixDQUNkLEVBQUUsRUFDRixDQUFDLG1CQUFZLENBQUMsRUFBRSxXQUFXLEVBQUUsZ0JBQVMsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUNwRTthQUNGLENBQ0Y7WUFDRCxtQ0FBYyxDQUNaO2dCQUNFLGNBQWMsRUFBRTtvQkFDZCxnQ0FBaUIsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLO29CQUM5QyxnQ0FBaUIsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJO2lCQUM5QzthQUNGLENBQ0Y7U0FDRixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYiwrQkFBK0I7UUFDL0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM5QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsMkNBQTJDO0FBQzNDLElBQU0sVUFBVSxHQUFHLCtxQ0FBK3FDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2RlcmsvanNQcm9qZWN0cy9zb3VyY2VyZXIvanMvX190ZXN0X18vZWxlbWVudC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERyYXdlckxheW91dCxcbiAgRHJhd2VybGF5b3V0VHlwZXMsXG59IGZyb20gJy4uL2RyYXdlcmxheW91dCc7XG5pbXBvcnQgeyBWaWV3QmFzZSB9IGZyb20gJy4uL2VsZW1lbnQnO1xuaW1wb3J0IHsgQ29vcmRpbmF0b3JMYXlvdXQsIENvb3JkaW5hdG9ybGF5b3V0VHlwZXMgfSBmcm9tICcuLi9jb29yZGluYXRvcmxheW91dCc7XG5pbXBvcnQgeyBBcHBCYXJMYXlvdXQsIE5hdmlnYXRpb25WaWV3LCBDb21wb25lbnRzTWF0ZXJpYWxUeXBlcyB9IGZyb20gJy4uL2NvbXBvbmVudHNtYXRlcmlhbCc7XG5pbXBvcnQgeyBBcHBjb21wYXRUb29sYmFyLCBBcHBjb21wYXRUeXBlcyB9IGZyb20gJy4uL2FwcGNvbXBhdCc7XG5pbXBvcnQgeyBOZXN0ZWRTY3JvbGxWaWV3IH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBMaW5lYXJMYXlvdXQsIE1haW5UeXBlcyB9IGZyb20gJy4uL21haW4nO1xuXG5kZXNjcmliZSgndGVzdGluZyBlbGVtZW50JywgKCkgPT4ge1xuICB0ZXN0KCdzaW5nbGUgb3B0aW9uIGlzIHNldCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGxheW91dCA9IERyYXdlckxheW91dCh7IGNvbG9yUHJpbWFyeURhcms6ICd3aGl0ZTInfSkuYnVpbGQoKTtcbiAgICAgIGNvbnN0IGRyYXdlckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0IGFzIFZpZXdCYXNlPERyYXdlcmxheW91dFR5cGVzLkRyYXdlckxheW91dEF0dHJpYnV0ZXMsIHt9PjtcbiAgICAgIGV4cGVjdChkcmF3ZXJMYXlvdXQuYXR0cmlidXRlcy5jb2xvclByaW1hcnlEYXJrKS50b0VxdWFsKCd3aGl0ZScpO1xuICB9KTtcbiAgdGVzdCgnc2luZ2xlIGNoaWxkIGlzIHNldCcsICgpID0+IHtcbiAgICBjb25zdCBsYXlvdXQgPSBEcmF3ZXJMYXlvdXQoXG4gICAgICB7fSxcbiAgICAgIFtDb29yZGluYXRvckxheW91dCh7IGlkOiAndGVzdCcgfSldXG4gICAgKS5idWlsZCgpO1xuICAgIGNvbnN0IGRyYXdlckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0IGFzIFZpZXdCYXNlPERyYXdlcmxheW91dFR5cGVzLkRyYXdlckxheW91dEF0dHJpYnV0ZXMsIHt9PjtcbiAgICBleHBlY3QoZHJhd2VyTGF5b3V0KS50b0hhdmVQcm9wZXJ0eShcImNoaWxkcmVuXCIpXG4gICAgY29uc3QgY2hpbGRyZW4gPSBkcmF3ZXJMYXlvdXQuY2hpbGRyZW4gYXMgU3RyaW5nW11cbiAgICBleHBlY3QoY2hpbGRyZW5bMF0pLnRvRXF1YWwoJ2RyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dCcpO1xuICAgIGNvbnN0IGNvb3JkaW5hdG9yTGF5b3V0ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXQgYXMgVmlld0Jhc2U8Q29vcmRpbmF0b3JsYXlvdXRUeXBlcy5Db29yZGluYXRvckxheW91dEF0dHJpYnV0ZXMsIHt9PjtcbiAgICBleHBlY3QoY29vcmRpbmF0b3JMYXlvdXQuYXR0cmlidXRlcy5pZCkudG9FcXVhbCgndGVzdCcpO1xuICB9KTtcbiAgdGVzdCgnc2luZ2xlIGNoaWxkIGFuZCBvcHRpb24gaXMgc2V0JywgKCkgPT4ge1xuICAgIGNvbnN0IGxheW91dCA9IERyYXdlckxheW91dChcbiAgICAgIHsgaWQ6ICdub290JyB9LFxuICAgICAgW0Nvb3JkaW5hdG9yTGF5b3V0KCldLFxuICAgICkuYnVpbGQoKTtcbiAgICBjb25zdCBkcmF3ZXJMYXlvdXQgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dCBhcyBWaWV3QmFzZTxEcmF3ZXJsYXlvdXRUeXBlcy5EcmF3ZXJMYXlvdXRBdHRyaWJ1dGVzLCB7fT47XG4gICAgZXhwZWN0KGRyYXdlckxheW91dCkudG9IYXZlUHJvcGVydHkoXCJjaGlsZHJlblwiKVxuICAgIGNvbnN0IGNoaWxkcmVuID0gZHJhd2VyTGF5b3V0LmNoaWxkcmVuIGFzIFN0cmluZ1tdXG4gICAgZXhwZWN0KGNoaWxkcmVuWzBdKS50b0VxdWFsKCdkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXQnKTtcbiAgICBleHBlY3QoZHJhd2VyTGF5b3V0LmF0dHJpYnV0ZXMuaWQpLnRvRXF1YWwoJ25vb3QnKTtcbiAgfSk7XG4gIHRlc3QoJ2RyYXdlciB3aXRoIG5hdmlnYXRpb24gbGF5b3V0JywgKCkgPT4ge1xuICAgIGNvbnN0IGxheW91dCA9IERyYXdlckxheW91dChcbiAgICAgIHsgbGF5b3V0X3dpZHRoOiBcIm1hdGNoX3BhcmVudFwiLCBsYXlvdXRfaGVpZ2h0OiBcIm1hdGNoX3BhcmVudFwifSwgXG4gICAgICBbXG4gICAgICAgIENvb3JkaW5hdG9yTGF5b3V0KFxuICAgICAgICAgIHsgYmFja2dyb3VuZDogXCIjRkVGRUZFXCIgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBBcHBCYXJMYXlvdXQoXG4gICAgICAgICAgICAgIHsgbGF5b3V0X2hlaWdodDogXCIyOTBkcFwiIH0sXG4gICAgICAgICAgICAgIFsgICAgICAgICAgXG4gICAgICAgICAgICAgICAgQXBwY29tcGF0VG9vbGJhcih7IHRpdGxlOiAnTmF2aWdhdGlvbiBQbGF5Z3JvdW5kJyB9KSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIE5lc3RlZFNjcm9sbFZpZXcoXG4gICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICBbTGluZWFyTGF5b3V0KHsgb3JpZW50YXRpb246IE1haW5UeXBlcy5PcmllbnRhdGlvbkVudW0udmVydGljYWwgfSldXG4gICAgICAgICAgICApLFxuICAgICAgICAgIF1cbiAgICAgICAgKSxcbiAgICAgICAgTmF2aWdhdGlvblZpZXcoXG4gICAgICAgICAgeyBcbiAgICAgICAgICAgIGxheW91dF9ncmF2aXR5OiBbIFxuICAgICAgICAgICAgICBEcmF3ZXJsYXlvdXRUeXBlcy5MYXlvdXRHcmF2aXR5RmxhZ3NFbnVtLnN0YXJ0LFxuICAgICAgICAgICAgICBEcmF3ZXJsYXlvdXRUeXBlcy5MYXlvdXRHcmF2aXR5RmxhZ3NFbnVtLmxlZnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICBdKS5idWlsZCgpO1xuICAgIGNvbnN0IGFwcEJhckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X2FwcEJhckxheW91dCBhcyBWaWV3QmFzZTxDb21wb25lbnRzTWF0ZXJpYWxUeXBlcy5BcHBCYXJMYXlvdXRBdHRyaWJ1dGVzLCBNYWluVHlwZXMuVmlld0dyb3VwTGF5b3V0UGFyYW1zQXR0cmlidXRlcz47XG4gICAgZXhwZWN0KGFwcEJhckxheW91dC5hdHRyaWJ1dGVzLmxheW91dF9oZWlnaHQpLnRvRXF1YWwoXCIyOTBkcFwiKTtcbiAgICBleHBlY3QoYXBwQmFyTGF5b3V0KS50b0hhdmVQcm9wZXJ0eShcImNoaWxkcmVuXCIpXG5cbiAgICBjb25zdCBuZXN0ZWRTY3JvbGxWaWV3ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfbmVzdGVkU2Nyb2xsVmlldyBhcyBWaWV3QmFzZTxDb21wb25lbnRzTWF0ZXJpYWxUeXBlcy5BcHBCYXJMYXlvdXRBdHRyaWJ1dGVzLCBNYWluVHlwZXMuVmlld0dyb3VwTGF5b3V0UGFyYW1zQXR0cmlidXRlcz47XG4gICAgY29uc3QgY2hpbGRyZW4gPSBuZXN0ZWRTY3JvbGxWaWV3LmNoaWxkcmVuIGFzIFN0cmluZ1tdXG4gICAgZXhwZWN0KGNoaWxkcmVuWzBdKS50b0VxdWFsKCdkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfbmVzdGVkU2Nyb2xsVmlld19saW5lYXJMYXlvdXQnKTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25WaWV3ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXRfbmF2aWdhdGlvblZpZXcgYXMgVmlld0Jhc2U8Q29tcG9uZW50c01hdGVyaWFsVHlwZXMuTmF2aWdhdGlvblZpZXdBdHRyaWJ1dGVzLCBEcmF3ZXJsYXlvdXRUeXBlcy5EcmF3ZXJMYXlvdXRMYXlvdXRQYXJhbXNBdHRyaWJ1dGVzPlxuICAgIGV4cGVjdChuYXZpZ2F0aW9uVmlldy5hdHRyaWJ1dGVzLmxheW91dF9ncmF2aXR5KS50b0VxdWFsKFsnc3RhcnQnLCAnbGVmdCddKTtcbiAgfSk7XG4gIHRlc3QoJ2NvbnZlcnRzIHRvIGpzb24gYXJyYXknLCAoKSA9PiB7XG4gICAgY29uc3QgbGF5b3V0ID0gRHJhd2VyTGF5b3V0KFxuICAgICAgeyBsYXlvdXRfd2lkdGg6IFwibWF0Y2hfcGFyZW50XCIsIGxheW91dF9oZWlnaHQ6IFwibWF0Y2hfcGFyZW50XCJ9LCBcbiAgICAgIFtcbiAgICAgICAgQ29vcmRpbmF0b3JMYXlvdXQoXG4gICAgICAgICAgeyBiYWNrZ3JvdW5kOiBcIiNGRUZFRkVcIiB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIEFwcEJhckxheW91dChcbiAgICAgICAgICAgICAgeyBsYXlvdXRfaGVpZ2h0OiBcIjI5MGRwXCIgfSxcbiAgICAgICAgICAgICAgWyAgICAgICAgICBcbiAgICAgICAgICAgICAgICBBcHBjb21wYXRUb29sYmFyKHsgdGl0bGU6ICdOYXZpZ2F0aW9uIFBsYXlncm91bmQnIH0pLFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgTmVzdGVkU2Nyb2xsVmlldyhcbiAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgIFtMaW5lYXJMYXlvdXQoeyBvcmllbnRhdGlvbjogTWFpblR5cGVzLk9yaWVudGF0aW9uRW51bS52ZXJ0aWNhbCB9KV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgXVxuICAgICAgICApLFxuICAgICAgICBOYXZpZ2F0aW9uVmlldyhcbiAgICAgICAgICB7IFxuICAgICAgICAgICAgbGF5b3V0X2dyYXZpdHk6IFsgXG4gICAgICAgICAgICAgIERyYXdlcmxheW91dFR5cGVzLkxheW91dEdyYXZpdHlGbGFnc0VudW0uc3RhcnQsXG4gICAgICAgICAgICAgIERyYXdlcmxheW91dFR5cGVzLkxheW91dEdyYXZpdHlGbGFnc0VudW0ubGVmdFxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgIF0pLmJ1aWxkKCk7XG4gICAgLy9jb25zb2xlLmxvZyhsYXlvdXQudG9Kc29uKCkpO1xuICAgIGV4cGVjdChsYXlvdXQudG9Kc29uKCkpLnRvRXF1YWwoanNvbk91dHB1dCk7XG4gIH0pO1xufSk7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbmNvbnN0IGpzb25PdXRwdXQgPSAnW3tcImlkXCI6XCJkcmF3ZXJMYXlvdXRcIixcInR5cGVcIjpcImRyYXdlckxheW91dFwiLFwiYXR0cmlidXRlc1wiOntcImxheW91dF93aWR0aFwiOlwibWF0Y2hfcGFyZW50XCIsXCJsYXlvdXRfaGVpZ2h0XCI6XCJtYXRjaF9wYXJlbnRcIn0sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dFwiLFwiZHJhd2VyTGF5b3V0X25hdmlnYXRpb25WaWV3XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0XCIsXCJ0eXBlXCI6XCJjb29yZGluYXRvckxheW91dFwiLFwiYXR0cmlidXRlc1wiOntcImJhY2tncm91bmRcIjpcIiNGRUZFRkVcIn0sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXRcIixcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X2FwcEJhckxheW91dFwiLFwidHlwZVwiOlwiYXBwQmFyTGF5b3V0XCIsXCJhdHRyaWJ1dGVzXCI6e1wibGF5b3V0X2hlaWdodFwiOlwiMjkwZHBcIn0sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXRfYXBwY29tcGF0LnRvb2xiYXJcIl19LHtcImlkXCI6XCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0X2FwcGNvbXBhdC50b29sYmFyXCIsXCJ0eXBlXCI6XCJhcHBjb21wYXQudG9vbGJhclwiLFwiYXR0cmlidXRlc1wiOntcInRpdGxlXCI6XCJOYXZpZ2F0aW9uIFBsYXlncm91bmRcIn0sXCJjaGlsZHJlblwiOltdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdcIixcInR5cGVcIjpcIm5lc3RlZFNjcm9sbFZpZXdcIixcImF0dHJpYnV0ZXNcIjp7fSxcImNoaWxkcmVuXCI6W1wiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdfbGluZWFyTGF5b3V0XCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdfbGluZWFyTGF5b3V0XCIsXCJ0eXBlXCI6XCJsaW5lYXJMYXlvdXRcIixcImF0dHJpYnV0ZXNcIjp7XCJvcmllbnRhdGlvblwiOjF9LFwiY2hpbGRyZW5cIjpbXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9uYXZpZ2F0aW9uVmlld1wiLFwidHlwZVwiOlwibmF2aWdhdGlvblZpZXdcIixcImF0dHJpYnV0ZXNcIjp7XCJsYXlvdXRfZ3Jhdml0eVwiOltcInN0YXJ0XCIsXCJsZWZ0XCJdfSxcImNoaWxkcmVuXCI6W119XSc7XG4iXSwidmVyc2lvbiI6M30=