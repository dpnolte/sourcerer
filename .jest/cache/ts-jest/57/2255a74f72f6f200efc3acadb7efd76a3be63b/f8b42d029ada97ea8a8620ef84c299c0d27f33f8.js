"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var drawerlayout_1 = require("../drawerlayout");
var coordinatorlayout_1 = require("../coordinatorlayout");
var componentsmaterial_1 = require("../componentsmaterial");
var appcompat_1 = require("../appcompat");
var core_1 = require("../core");
var main_1 = require("../main");
describe('testing element', function () {
    test('single option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ colorPrimaryDark: 'white' }).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout.attributes.colorPrimaryDark).toEqual('white');
    });
    test('single child is set', function () {
        var layout = drawerlayout_1.DrawerLayout({}, [coordinatorlayout_1.CoordinatorLayout({ id: 'test' })]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        var coordinatorLayout = layout.map.drawerLayout_coordinatorLayout;
        expect(coordinatorLayout.attributes.id).toEqual('test');
    });
    test('single child and option is set', function () {
        var layout = drawerlayout_1.DrawerLayout({ id: 'noot' }, [coordinatorlayout_1.CoordinatorLayout()]).build();
        var drawerLayout = layout.map.drawerLayout;
        expect(drawerLayout).toHaveProperty("children");
        var children = drawerLayout.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout');
        expect(drawerLayout.attributes.id).toEqual('noot');
    });
    test('drawer with navigation layout', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [
            coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [
                componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [
                    appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' }),
                ]),
                core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })]),
            ]),
            componentsmaterial_1.NavigationView({
                layout_gravity: [
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start,
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left
                ]
            }),
        ]).build();
        var appBarLayout = layout.map.drawerLayout_coordinatorLayout_appBarLayout;
        expect(appBarLayout.attributes.layout_height).toEqual("290dp");
        expect(appBarLayout).toHaveProperty("children");
        var nestedScrollView = layout.map.drawerLayout_coordinatorLayout_nestedScrollView;
        var children = nestedScrollView.children;
        expect(children[0]).toEqual('drawerLayout_coordinatorLayout_nestedScrollView_linearLayout');
        var navigationView = layout.map.drawerLayout_navigationView;
        expect(navigationView.attributes.layout_gravity).toEqual(['start', 'left']);
    });
    test('converts to json array', function () {
        var layout = drawerlayout_1.DrawerLayout({ layout_width: "match_parent", layout_height: "match_parent" }, [
            coordinatorlayout_1.CoordinatorLayout({ background: "#FEFEFE" }, [
                componentsmaterial_1.AppBarLayout({ layout_height: "290dp" }, [
                    appcompat_1.AppcompatToolbar({ title: 'Navigation Playground' }),
                ]),
                core_1.NestedScrollView({}, [main_1.LinearLayout({ orientation: main_1.MainTypes.OrientationEnum.vertical })]),
            ]),
            componentsmaterial_1.NavigationView({
                layout_gravity: [
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.start,
                    drawerlayout_1.DrawerlayoutTypes.LayoutGravityFlagsEnum.left
                ]
            }),
        ]).build();
        //console.log(layout.toJson());
        expect(layout.toJson()).toEqual(jsonOutput);
    });
});
// tslint:disable-next-line:max-line-length
var jsonOutput = '[{"id":"drawerLayout","type":"drawerLayout","attributes":{"layout_width":"match_parent","layout_height":"match_parent"},"children":["drawerLayout_coordinatorLayout","drawerLayout_navigationView"]},{"id":"drawerLayout_coordinatorLayout","type":"coordinatorLayout","attributes":{"background":"#FEFEFE"},"children":["drawerLayout_coordinatorLayout_appBarLayout","drawerLayout_coordinatorLayout_nestedScrollView"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout","type":"appBarLayout","attributes":{"layout_height":"290dp"},"children":["drawerLayout_coordinatorLayout_appBarLayout_appcompat.toolbar"]},{"id":"drawerLayout_coordinatorLayout_appBarLayout_appcompat.toolbar","type":"appcompat.toolbar","attributes":{"title":"Navigation Playground"},"children":[]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView","type":"nestedScrollView","attributes":{},"children":["drawerLayout_coordinatorLayout_nestedScrollView_linearLayout"]},{"id":"drawerLayout_coordinatorLayout_nestedScrollView_linearLayout","type":"linearLayout","attributes":{"orientation":"vertical"},"children":[]},{"id":"drawerLayout_navigationView","type":"navigationView","attributes":{"layout_gravity":["start","left"]},"children":[]}]';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RlcmsvanNQcm9qZWN0cy9zb3VyY2VyZXIvanMvX190ZXN0X18vZWxlbWVudC50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsZ0RBR3lCO0FBRXpCLDBEQUFpRjtBQUNqRiw0REFBOEY7QUFDOUYsMENBQWdEO0FBQ2hELGdDQUEyQztBQUMzQyxnQ0FBa0Q7QUFFbEQsUUFBUSxDQUFDLGlCQUFpQixFQUFFO0lBQzFCLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtRQUN6QixJQUFNLE1BQU0sR0FBRywyQkFBWSxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNsRSxJQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQXNFLENBQUM7UUFDdkcsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEUsQ0FBQyxDQUFDLENBQUM7SUFDSCxJQUFJLENBQUMscUJBQXFCLEVBQUU7UUFDMUIsSUFBTSxNQUFNLEdBQUcsMkJBQVksQ0FDekIsRUFBRSxFQUNGLENBQUMscUNBQWlCLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUNwQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ1YsSUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFzRSxDQUFDO1FBQ3ZHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDL0MsSUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLFFBQW9CLENBQUE7UUFDbEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQzlELElBQU0saUJBQWlCLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyw4QkFBa0csQ0FBQztRQUN4SSxNQUFNLENBQUMsaUJBQWlC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QjtvQkFDRSw0QkFBZ0IsQ0FBQyxFQUFFLEtBQUssRUFBRSx1QkFBdUIsRUFBRSxDQUFDO2lCQUNyRCxDQUNGO2dCQUNELHVCQUFnQixDQUNkLEVBQUUsRUFDRixDQUFDLG1CQUFZLENBQUMsRUFBRSxXQUFXLEVBQUUsZ0JBQVMsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUNwRTthQUNGLENBQ0Y7WUFDRCxtQ0FBYyxDQUNaO2dCQUNFLGNBQWMsRUFBRTtvQkFDZCxnQ0FBaUIsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLO29CQUM5QyxnQ0FBaUIsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJO2lCQUM5QzthQUNGLENBQ0Y7U0FDRixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYiwrQkFBK0I7UUFDL0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM5QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsMkNBQTJDO0FBQzNDLElBQU0sVUFBVSxHQUFHLHdyQ0FBd3JDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2RlcmsvanNQcm9qZWN0cy9zb3VyY2VyZXIvanMvX190ZXN0X18vZWxlbWVudC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERyYXdlckxheW91dCxcbiAgRHJhd2VybGF5b3V0VHlwZXMsXG59IGZyb20gJy4uL2RyYXdlcmxheW91dCc7XG5pbXBvcnQgeyBWaWV3QmFzZSB9IGZyb20gJy4uL2VsZW1lbnQnO1xuaW1wb3J0IHsgQ29vcmRpbmF0b3JMYXlvdXQsIENvb3JkaW5hdG9ybGF5b3V0VHlwZXMgfSBmcm9tICcuLi9jb29yZGluYXRvcmxheW91dCc7XG5pbXBvcnQgeyBBcHBCYXJMYXlvdXQsIE5hdmlnYXRpb25WaWV3LCBDb21wb25lbnRzTWF0ZXJpYWxUeXBlcyB9IGZyb20gJy4uL2NvbXBvbmVudHNtYXRlcmlhbCc7XG5pbXBvcnQgeyBBcHBjb21wYXRUb29sYmFyIH0gZnJvbSAnLi4vYXBwY29tcGF0JztcbmltcG9ydCB7IE5lc3RlZFNjcm9sbFZpZXcgfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IExpbmVhckxheW91dCwgTWFpblR5cGVzIH0gZnJvbSAnLi4vbWFpbic7XG5cbmRlc2NyaWJlKCd0ZXN0aW5nIGVsZW1lbnQnLCAoKSA9PiB7XG4gIHRlc3QoJ3NpbmdsZSBvcHRpb24gaXMgc2V0JywgKCkgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0ID0gRHJhd2VyTGF5b3V0KHsgY29sb3JQcmltYXJ5RGFyazogJ3doaXRlJ30pLmJ1aWxkKCk7XG4gICAgICBjb25zdCBkcmF3ZXJMYXlvdXQgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dCBhcyBWaWV3QmFzZTxEcmF3ZXJsYXlvdXRUeXBlcy5EcmF3ZXJMYXlvdXRBdHRyaWJ1dGVzLCB7fT47XG4gICAgICBleHBlY3QoZHJhd2VyTGF5b3V0LmF0dHJpYnV0ZXMuY29sb3JQcmltYXJ5RGFyaykudG9FcXVhbCgnd2hpdGUnKTtcbiAgfSk7XG4gIHRlc3QoJ3NpbmdsZSBjaGlsZCBpcyBzZXQnLCAoKSA9PiB7XG4gICAgY29uc3QgbGF5b3V0ID0gRHJhd2VyTGF5b3V0KFxuICAgICAge30sXG4gICAgICBbQ29vcmRpbmF0b3JMYXlvdXQoeyBpZDogJ3Rlc3QnIH0pXVxuICAgICkuYnVpbGQoKTtcbiAgICBjb25zdCBkcmF3ZXJMYXlvdXQgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dCBhcyBWaWV3QmFzZTxEcmF3ZXJsYXlvdXRUeXBlcy5EcmF3ZXJMYXlvdXRBdHRyaWJ1dGVzLCB7fT47XG4gICAgZXhwZWN0KGRyYXdlckxheW91dCkudG9IYXZlUHJvcGVydHkoXCJjaGlsZHJlblwiKVxuICAgIGNvbnN0IGNoaWxkcmVuID0gZHJhd2VyTGF5b3V0LmNoaWxkcmVuIGFzIFN0cmluZ1tdXG4gICAgZXhwZWN0KGNoaWxkcmVuWzBdKS50b0VxdWFsKCdkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXQnKTtcbiAgICBjb25zdCBjb29yZGluYXRvckxheW91dCA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0IGFzIFZpZXdCYXNlPENvb3JkaW5hdG9ybGF5b3V0VHlwZXMuQ29vcmRpbmF0b3JMYXlvdXRBdHRyaWJ1dGVzLCB7fT47XG4gICAgZXhwZWN0KGNvb3JkaW5hdG9yTGF5b3V0LmF0dHJpYnV0ZXMuaWQpLnRvRXF1YWwoJ3Rlc3QnKTtcbiAgfSk7XG4gIHRlc3QoJ3NpbmdsZSBjaGlsZCBhbmQgb3B0aW9uIGlzIHNldCcsICgpID0+IHtcbiAgICBjb25zdCBsYXlvdXQgPSBEcmF3ZXJMYXlvdXQoXG4gICAgICB7IGlkOiAnbm9vdCcgfSxcbiAgICAgIFtDb29yZGluYXRvckxheW91dCgpXSxcbiAgICApLmJ1aWxkKCk7XG4gICAgY29uc3QgZHJhd2VyTGF5b3V0ID0gbGF5b3V0Lm1hcC5kcmF3ZXJMYXlvdXQgYXMgVmlld0Jhc2U8RHJhd2VybGF5b3V0VHlwZXMuRHJhd2VyTGF5b3V0QXR0cmlidXRlcywge30+O1xuICAgIGV4cGVjdChkcmF3ZXJMYXlvdXQpLnRvSGF2ZVByb3BlcnR5KFwiY2hpbGRyZW5cIilcbiAgICBjb25zdCBjaGlsZHJlbiA9IGRyYXdlckxheW91dC5jaGlsZHJlbiBhcyBTdHJpbmdbXVxuICAgIGV4cGVjdChjaGlsZHJlblswXSkudG9FcXVhbCgnZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0Jyk7XG4gICAgZXhwZWN0KGRyYXdlckxheW91dC5hdHRyaWJ1dGVzLmlkKS50b0VxdWFsKCdub290Jyk7XG4gIH0pO1xuICB0ZXN0KCdkcmF3ZXIgd2l0aCBuYXZpZ2F0aW9uIGxheW91dCcsICgpID0+IHtcbiAgICBjb25zdCBsYXlvdXQgPSBEcmF3ZXJMYXlvdXQoXG4gICAgICB7IGxheW91dF93aWR0aDogXCJtYXRjaF9wYXJlbnRcIiwgbGF5b3V0X2hlaWdodDogXCJtYXRjaF9wYXJlbnRcIn0sIFxuICAgICAgW1xuICAgICAgICBDb29yZGluYXRvckxheW91dChcbiAgICAgICAgICB7IGJhY2tncm91bmQ6IFwiI0ZFRkVGRVwiIH0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgQXBwQmFyTGF5b3V0KFxuICAgICAgICAgICAgICB7IGxheW91dF9oZWlnaHQ6IFwiMjkwZHBcIiB9LFxuICAgICAgICAgICAgICBbICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEFwcGNvbXBhdFRvb2xiYXIoeyB0aXRsZTogJ05hdmlnYXRpb24gUGxheWdyb3VuZCcgfSksXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBOZXN0ZWRTY3JvbGxWaWV3KFxuICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgW0xpbmVhckxheW91dCh7IG9yaWVudGF0aW9uOiBNYWluVHlwZXMuT3JpZW50YXRpb25FbnVtLnZlcnRpY2FsIH0pXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBdXG4gICAgICAgICksXG4gICAgICAgIE5hdmlnYXRpb25WaWV3KFxuICAgICAgICAgIHsgXG4gICAgICAgICAgICBsYXlvdXRfZ3Jhdml0eTogWyBcbiAgICAgICAgICAgICAgRHJhd2VybGF5b3V0VHlwZXMuTGF5b3V0R3Jhdml0eUZsYWdzRW51bS5zdGFydCxcbiAgICAgICAgICAgICAgRHJhd2VybGF5b3V0VHlwZXMuTGF5b3V0R3Jhdml0eUZsYWdzRW51bS5sZWZ0XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgXSkuYnVpbGQoKTtcbiAgICBjb25zdCBhcHBCYXJMYXlvdXQgPSBsYXlvdXQubWFwLmRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXQgYXMgVmlld0Jhc2U8Q29tcG9uZW50c01hdGVyaWFsVHlwZXMuQXBwQmFyTGF5b3V0QXR0cmlidXRlcywgTWFpblR5cGVzLlZpZXdHcm91cExheW91dFBhcmFtc0F0dHJpYnV0ZXM+O1xuICAgIGV4cGVjdChhcHBCYXJMYXlvdXQuYXR0cmlidXRlcy5sYXlvdXRfaGVpZ2h0KS50b0VxdWFsKFwiMjkwZHBcIik7XG4gICAgZXhwZWN0KGFwcEJhckxheW91dCkudG9IYXZlUHJvcGVydHkoXCJjaGlsZHJlblwiKVxuXG4gICAgY29uc3QgbmVzdGVkU2Nyb2xsVmlldyA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXcgYXMgVmlld0Jhc2U8Q29tcG9uZW50c01hdGVyaWFsVHlwZXMuQXBwQmFyTGF5b3V0QXR0cmlidXRlcywgTWFpblR5cGVzLlZpZXdHcm91cExheW91dFBhcmFtc0F0dHJpYnV0ZXM+O1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbmVzdGVkU2Nyb2xsVmlldy5jaGlsZHJlbiBhcyBTdHJpbmdbXVxuICAgIGV4cGVjdChjaGlsZHJlblswXSkudG9FcXVhbCgnZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X25lc3RlZFNjcm9sbFZpZXdfbGluZWFyTGF5b3V0Jyk7XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uVmlldyA9IGxheW91dC5tYXAuZHJhd2VyTGF5b3V0X25hdmlnYXRpb25WaWV3IGFzIFZpZXdCYXNlPENvbXBvbmVudHNNYXRlcmlhbFR5cGVzLk5hdmlnYXRpb25WaWV3QXR0cmlidXRlcywgRHJhd2VybGF5b3V0VHlwZXMuRHJhd2VyTGF5b3V0TGF5b3V0UGFyYW1zQXR0cmlidXRlcz5cbiAgICBleHBlY3QobmF2aWdhdGlvblZpZXcuYXR0cmlidXRlcy5sYXlvdXRfZ3Jhdml0eSkudG9FcXVhbChbJ3N0YXJ0JywgJ2xlZnQnXSk7XG4gIH0pO1xuICB0ZXN0KCdjb252ZXJ0cyB0byBqc29uIGFycmF5JywgKCkgPT4ge1xuICAgIGNvbnN0IGxheW91dCA9IERyYXdlckxheW91dChcbiAgICAgIHsgbGF5b3V0X3dpZHRoOiBcIm1hdGNoX3BhcmVudFwiLCBsYXlvdXRfaGVpZ2h0OiBcIm1hdGNoX3BhcmVudFwifSwgXG4gICAgICBbXG4gICAgICAgIENvb3JkaW5hdG9yTGF5b3V0KFxuICAgICAgICAgIHsgYmFja2dyb3VuZDogXCIjRkVGRUZFXCIgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBBcHBCYXJMYXlvdXQoXG4gICAgICAgICAgICAgIHsgbGF5b3V0X2hlaWdodDogXCIyOTBkcFwiIH0sXG4gICAgICAgICAgICAgIFsgICAgICAgICAgXG4gICAgICAgICAgICAgICAgQXBwY29tcGF0VG9vbGJhcih7IHRpdGxlOiAnTmF2aWdhdGlvbiBQbGF5Z3JvdW5kJyB9KSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIE5lc3RlZFNjcm9sbFZpZXcoXG4gICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICBbTGluZWFyTGF5b3V0KHsgb3JpZW50YXRpb246IE1haW5UeXBlcy5PcmllbnRhdGlvbkVudW0udmVydGljYWwgfSldXG4gICAgICAgICAgICApLFxuICAgICAgICAgIF1cbiAgICAgICAgKSxcbiAgICAgICAgTmF2aWdhdGlvblZpZXcoXG4gICAgICAgICAgeyBcbiAgICAgICAgICAgIGxheW91dF9ncmF2aXR5OiBbIFxuICAgICAgICAgICAgICBEcmF3ZXJsYXlvdXRUeXBlcy5MYXlvdXRHcmF2aXR5RmxhZ3NFbnVtLnN0YXJ0LFxuICAgICAgICAgICAgICBEcmF3ZXJsYXlvdXRUeXBlcy5MYXlvdXRHcmF2aXR5RmxhZ3NFbnVtLmxlZnRcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICBdKS5idWlsZCgpO1xuICAgIC8vY29uc29sZS5sb2cobGF5b3V0LnRvSnNvbigpKTtcbiAgICBleHBlY3QobGF5b3V0LnRvSnNvbigpKS50b0VxdWFsKGpzb25PdXRwdXQpO1xuICB9KTtcbn0pO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG5jb25zdCBqc29uT3V0cHV0ID0gJ1t7XCJpZFwiOlwiZHJhd2VyTGF5b3V0XCIsXCJ0eXBlXCI6XCJkcmF3ZXJMYXlvdXRcIixcImF0dHJpYnV0ZXNcIjp7XCJsYXlvdXRfd2lkdGhcIjpcIm1hdGNoX3BhcmVudFwiLFwibGF5b3V0X2hlaWdodFwiOlwibWF0Y2hfcGFyZW50XCJ9LFwiY2hpbGRyZW5cIjpbXCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRcIixcImRyYXdlckxheW91dF9uYXZpZ2F0aW9uVmlld1wiXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dFwiLFwidHlwZVwiOlwiY29vcmRpbmF0b3JMYXlvdXRcIixcImF0dHJpYnV0ZXNcIjp7XCJiYWNrZ3JvdW5kXCI6XCIjRkVGRUZFXCJ9LFwiY2hpbGRyZW5cIjpbXCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0XCIsXCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfbmVzdGVkU2Nyb2xsVmlld1wiXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9hcHBCYXJMYXlvdXRcIixcInR5cGVcIjpcImFwcEJhckxheW91dFwiLFwiYXR0cmlidXRlc1wiOntcImxheW91dF9oZWlnaHRcIjpcIjI5MGRwXCJ9LFwiY2hpbGRyZW5cIjpbXCJkcmF3ZXJMYXlvdXRfY29vcmRpbmF0b3JMYXlvdXRfYXBwQmFyTGF5b3V0X2FwcGNvbXBhdC50b29sYmFyXCJdfSx7XCJpZFwiOlwiZHJhd2VyTGF5b3V0X2Nvb3JkaW5hdG9yTGF5b3V0X2FwcEJhckxheW91dF9hcHBjb21wYXQudG9vbGJhclwiLFwidHlwZVwiOlwiYXBwY29tcGF0LnRvb2xiYXJcIixcImF0dHJpYnV0ZXNcIjp7XCJ0aXRsZVwiOlwiTmF2aWdhdGlvbiBQbGF5Z3JvdW5kXCJ9LFwiY2hpbGRyZW5cIjpbXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3XCIsXCJ0eXBlXCI6XCJuZXN0ZWRTY3JvbGxWaWV3XCIsXCJhdHRyaWJ1dGVzXCI6e30sXCJjaGlsZHJlblwiOltcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3X2xpbmVhckxheW91dFwiXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9jb29yZGluYXRvckxheW91dF9uZXN0ZWRTY3JvbGxWaWV3X2xpbmVhckxheW91dFwiLFwidHlwZVwiOlwibGluZWFyTGF5b3V0XCIsXCJhdHRyaWJ1dGVzXCI6e1wib3JpZW50YXRpb25cIjpcInZlcnRpY2FsXCJ9LFwiY2hpbGRyZW5cIjpbXX0se1wiaWRcIjpcImRyYXdlckxheW91dF9uYXZpZ2F0aW9uVmlld1wiLFwidHlwZVwiOlwibmF2aWdhdGlvblZpZXdcIixcImF0dHJpYnV0ZXNcIjp7XCJsYXlvdXRfZ3Jhdml0eVwiOltcInN0YXJ0XCIsXCJsZWZ0XCJdfSxcImNoaWxkcmVuXCI6W119XSc7XG4iXSwidmVyc2lvbiI6M30=